<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEXC RSI Screener</title>
    <meta name="description" content="Real-time cryptocurrency RSI, Stochastic, and EMA screener for MEXC futures">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css?v=2">
</head>

<body>
    <!-- ── Header ────────────────────────────────── -->
    <header>
        <div class="header-left">
            <h1>MEXC RSI Screener</h1>
            <span id="status-badge" class="badge badge-stopped">Stopped</span>
        </div>
        <div class="header-right">
            <span id="countdown-display" class="countdown">—</span>
            <button id="btn-settings" class="btn btn-icon" title="Settings">⚙</button>
        </div>
    </header>

    <!-- ── Controls ──────────────────────────────── -->
    <div class="controls">
        <button id="btn-start" class="btn btn-start">▶ Start</button>
        <button id="btn-stop" class="btn btn-stop" disabled>■ Stop</button>
        <button id="btn-reset" class="btn btn-reset">↻ Reset</button>
    </div>

    <!-- ── Main Content ──────────────────────────── -->
    <main>
        <!-- Data Table -->
        <div class="card table-card">
            <div class="card-header">
                <h2>Asset Analysis</h2>
                <span id="last-update" class="dim">—</span>
            </div>
            <div class="table-wrapper">
                <table id="data-table">
                    <thead>
                        <tr>
                            <th data-sort="symbol" data-type="string" class="sortable">Symbol <span
                                    class="sort-icon"></span></th>
                            <th data-sort="price" data-type="number" class="sortable">Price <span
                                    class="sort-icon"></span></th>
                            <th data-sort="rsi" data-type="number" class="sortable">RSI <span class="sort-icon"></span>
                            </th>
                            <th data-sort="stoch_k" data-type="number" class="sortable">Stoch %K <span
                                    class="sort-icon"></span></th>
                            <th data-sort="stoch_d" data-type="number" class="sortable">Stoch %D <span
                                    class="sort-icon"></span></th>
                            <th data-sort="ema_long" data-type="string" class="sortable">EMA 200 <span
                                    class="sort-icon"></span></th>
                            <th data-sort="ema_short" data-type="string" class="sortable">EMA 21 <span
                                    class="sort-icon"></span></th>
                            <th data-sort="atr_ratio" data-type="number" class="sortable">ATR Ratio <span
                                    class="sort-icon"></span></th>
                            <th data-sort="lr_trend" data-type="string" class="sortable">Trend <span id="th-trend-tf"
                                    class="dim">()</span> <span class="sort-icon"></span></th>
                            <th data-sort="lr_confidence" data-type="number" class="sortable">Confidence <span
                                    class="sort-icon"></span></th>
                            <th data-sort="lr_r_squared" data-type="number" class="sortable">R² <span
                                    class="sort-icon"></span></th>
                            <th data-sort="lr_volatility" data-type="string" class="sortable">Volatility <span
                                    class="sort-icon"></span></th>
                            <th data-sort="lr_htf_trend" data-type="string" class="sortable">HTF Trend <span
                                    id="th-htf-tf" class="dim">()</span> <span class="sort-icon"></span></th>
                            <th data-sort="alerts_count" data-type="number" class="sortable">Alerts <span
                                    class="sort-icon"></span></th>
                        </tr>
                    </thead>
                    <tbody id="data-body">
                        <tr class="empty-row">
                            <td colspan="14">Click <strong>Start</strong> to begin scanning</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Log Panel -->
        <div class="card log-card">
            <div class="card-header">
                <h2>Activity Log</h2>
                <button id="btn-clear-log" class="btn btn-sm">Clear</button>
            </div>
            <div id="log-container" class="log-container">
                <div class="log-entry log-info">Ready. Configure settings and click Start.</div>
            </div>
        </div>
    </main>

    <!-- ── Settings Overlay ──────────────────────── -->
    <div id="settings-overlay" class="overlay hidden">
        <div class="settings-panel">
            <div class="settings-header">
                <h2>Settings</h2>
                <button id="btn-close-settings" class="btn btn-icon">✕</button>
            </div>
            <div class="settings-body" id="settings-body">
                <!-- Populated by JS -->
                <div class="setting-loader">Loading settings...</div>
            </div>
            <div class="settings-footer">
                <div class="settings-footer-left">
                    <button id="btn-export-settings" class="btn btn-icon" title="Export settings to JSON file">⬇
                        Export</button>
                    <button id="btn-import-settings" class="btn btn-icon" title="Import settings from JSON file">⬆
                        Import</button>
                    <input type="file" id="import-file-input" accept=".json" style="display:none" />
                </div>
                <div class="settings-footer-right">
                    <button id="btn-save-settings" class="btn btn-start">Save Settings</button>
                    <button id="btn-cancel-settings" class="btn btn-stop">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/app.js?v=2"></script>
</body>

</html>